{\rtf1\ansi\deff3\adeflang1025
{\fonttbl{\f0\froman\fprq2\fcharset0 Times New Roman;}{\f1\froman\fprq2\fcharset2 Symbol;}{\f2\fswiss\fprq2\fcharset0 Arial;}{\f3\froman\fprq2\fcharset0 Liberation Serif{\*\falt Times New Roman};}{\f4\fswiss\fprq2\fcharset0 Liberation Sans{\*\falt Arial};}{\f5\fnil\fprq0\fcharset0 Arial;}{\f6\fnil\fprq0\fcharset2 OpenSymbol{\*\falt Arial Unicode MS};}{\f7\fmodern\fprq1\fcharset0 Liberation Mono{\*\falt Courier New};}{\f8\fnil\fprq0\fcharset2 Wingdings;}{\f9\fnil\fprq0\fcharset0 Segoe UI;}{\f10\fnil\fprq2\fcharset0 Microsoft YaHei;}{\f11\fmodern\fprq1\fcharset0 NSimSun;}{\f12\fswiss\fprq0\fcharset128 Arial;}{\f13\fnil\fprq2\fcharset0 Arial;}}
{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}
{\stylesheet{\s0\snext0\rtlch\af13\afs24\alang1081 \ltrch\lang1033\langfe2052\hich\af3\loch\widctlpar\hyphpar0\ltrpar\cf0\f3\fs24\lang1033\kerning1\dbch\af14\langfe2052 Normal;}
{\*\cs15\snext15\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255 Hyperlink;}
{\*\cs16\snext16\rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 Bullets;}
{\s17\sbasedon0\snext18\rtlch\af13\afs28 \ltrch\hich\af4\loch\sb240\sa120\keepn\f4\fs28\dbch\af10 Heading;}
{\s18\sbasedon0\snext18\loch\sl276\slmult1\sb0\sa140 Text Body;}
{\s19\sbasedon18\snext19\rtlch\af12 \ltrch\loch\sl276\slmult1\sb0\sa140 List;}
{\s20\sbasedon0\snext20\rtlch\af12\afs24\ai \ltrch\loch\sb120\sa120\noline\fs24\i Caption;}
{\s21\sbasedon0\snext21\rtlch\af12 \ltrch\loch\noline Index;}
{\s22\sbasedon0\snext22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11 Preformatted Text;}
}{\*\listtable{\list\listtemplateid1
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid1}
{\list\listtemplateid2
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid2}
{\list\listtemplateid3
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid3}
{\list\listtemplateid4
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid4}
{\list\listtemplateid5
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid5}
{\list\listtemplateid6
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid6}
{\list\listtemplateid7
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid7}
{\list\listtemplateid8
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid8}
{\list\listtemplateid9
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid9}
{\list\listtemplateid10
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid10}
{\list\listtemplateid11
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid11}
{\list\listtemplateid12
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid12}
{\list\listtemplateid13
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid13}
{\list\listtemplateid14
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid14}
{\list\listtemplateid15
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid15}
{\list\listtemplateid16
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid16}
{\list\listtemplateid17
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid17}
{\list\listtemplateid18
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid18}
{\list\listtemplateid19
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid19}
{\list\listtemplateid20
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid20}
{\list\listtemplateid21
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid21}
{\list\listtemplateid22
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid22}
{\list\listtemplateid23
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid23}
{\list\listtemplateid24
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid24}
{\list\listtemplateid25
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid25}
{\list\listtemplateid26
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid26}
{\list\listtemplateid27
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid27}
{\list\listtemplateid28
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid28}
{\list\listtemplateid29
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid29}
{\list\listtemplateid30
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid30}
{\list\listtemplateid31
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid31}
{\list\listtemplateid32
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid32}
{\list\listtemplateid33
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid33}
{\list\listtemplateid34
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid34}
{\list\listtemplateid35
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li707}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li1414}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2121}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li2828}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li3535}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4242}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li4949}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li5656}
{\listlevel\levelnfc23\leveljc0\levelstartat1\levelfollow0{\leveltext \'01\u8226 ?;}{\levelnumbers;}\f6\rtlch\af6 \ltrch\loch\fi-283\li6363}\listid35}
{\list\listtemplateid36
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi0\li0}\listid36}
}{\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}{\listoverride\listid8\listoverridecount0\ls8}{\listoverride\listid9\listoverridecount0\ls9}{\listoverride\listid10\listoverridecount0\ls10}{\listoverride\listid11\listoverridecount0\ls11}{\listoverride\listid12\listoverridecount0\ls12}{\listoverride\listid13\listoverridecount0\ls13}{\listoverride\listid14\listoverridecount0\ls14}{\listoverride\listid15\listoverridecount0\ls15}{\listoverride\listid16\listoverridecount0\ls16}{\listoverride\listid17\listoverridecount0\ls17}{\listoverride\listid18\listoverridecount0\ls18}{\listoverride\listid19\listoverridecount0\ls19}{\listoverride\listid20\listoverridecount0\ls20}{\listoverride\listid21\listoverridecount0\ls21}{\listoverride\listid22\listoverridecount0\ls22}{\listoverride\listid23\listoverridecount0\ls23}{\listoverride\listid24\listoverridecount0\ls24}{\listoverride\listid25\listoverridecount0\ls25}{\listoverride\listid26\listoverridecount0\ls26}{\listoverride\listid27\listoverridecount0\ls27}{\listoverride\listid28\listoverridecount0\ls28}{\listoverride\listid29\listoverridecount0\ls29}{\listoverride\listid30\listoverridecount0\ls30}{\listoverride\listid31\listoverridecount0\ls31}{\listoverride\listid32\listoverridecount0\ls32}{\listoverride\listid33\listoverridecount0\ls33}{\listoverride\listid34\listoverridecount0\ls34}{\listoverride\listid35\listoverridecount0\ls35}{\listoverride\listid36\listoverridecount0\ls36}}{\*\generator LibreOffice/7.1.1.2$Windows_X86_64 LibreOffice_project/fe0b08f4af1bacafe4c7ecc87ce55bb426164676}{\info{\creatim\yr2021\mo8\dy30\hr8\min6}{\revtim\yr2021\mo8\dy30\hr8\min8}{\printim\yr0\mo0\dy0\hr0\min0}}{\*\userprops}\deftab709
\hyphauto1\viewscale100
{\*\pgdsctbl
{\pgdsc0\pgdscuse451\pgwsxn12240\pghsxn15840\marglsxn1134\margrsxn1134\margtsxn1134\margbsxn1134\pgdscnxt0 Default Page Style;}
{\pgdsc1\pgdscuse451\pgndec\pgwsxn12240\pghsxn15840\marglsxn1134\margrsxn567\margtsxn567\margbsxn567\pgdscnxt1 HTML;}}
\formshade\paperh15840\paperw12240\margl1134\margr1134\margt1134\margb1134\sectd\sbknone\pgndec\sftnnar\saftnnrlc\sectunlocked1\pgwsxn12240\pghsxn15840\marglsxn1134\margrsxn1134\margtsxn1134\margbsxn1134\ftnbj\ftnstart1\ftnrstcont\ftnnar\aenddoc\aftnrstcont\aftnstart1\aftnnrlc
{\*\ftnsep\chftnsep}\pgndec\pard\plain \s0\rtlch\af13\afs24\alang1081 \ltrch\lang1033\langfe2052\hich\af3\loch\widctlpar\hyphpar0\ltrpar\cf0\f3\fs24\lang1033\kerning1\dbch\af14\langfe2052\loch\ql\li0\ri0\lin0\rin0\fi0\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
This guideline is an attempt to give a better understanding of how the spells in CircleMUD work and a step-by-step method on how to create them. This is based on bpl15, with some reference to previous patchlevels or codebases.\line }{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%201" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 1:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Categories of Spells\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%202" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 2:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Basic Steps to Create A Spell\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%203" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 3:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Damage Spells - Killing Enemy 101\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%204" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 4:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Area Spells - Make Thy Enemies Suffer!\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%205" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 5:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Affect Spells - Affect Them for Better or Worse\u8230\'85\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%206" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 6:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Unaffect Spells - "First You Have It, Now You Don't!"\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%207" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 7:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Alter Object Spells - Bend It to Your Will.\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%208" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 8:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Points Spells - Measuring the Beat of Our Life\u8230\'85\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%209" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 9:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Group-based Spells - Defend Thy Neighbors!\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part10" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 10:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Masses Spells - Let Them See Your Way\u8230\'85\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part11" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 11:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Summon Spells - "Come and Follow Me!"\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part12" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 12:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Creation Spells - Magical Sleight of Hand.\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part13" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 13:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Manual Spells - Making It Special\u8230\'85\line }{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part14" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Part 14:}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
\~Giving NPCs Immunity.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
A lot of people have benefited from the contributions made by the CircleMUD community. I, for one, have gained a lot and would like to contribute back. This, err\u8230\'85 rather long guideline was supposed to be short at first. That is, until my housemates who also mud asked a simple question: "How to know what spell is under which category?" So, one thing led to another, after a while it became this long in my attempt to make it as comprehensive as possible, especially for those who just started to code.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Anyway, I hope someone will benefit from my first attempt\u8230\'85. :)}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
- Fizal (}{{\field{\*\fldinst HYPERLINK "mailto:amustapa@hotmail.com" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
amustapa@hotmail.com}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch{\*\bkmkstart Part 1}{\*\bkmkend Part 1}
)}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 1: Categories of Spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
All the spells in Circle, whether it's a magical or clerical spell, or the more exotic druidic or elemental spell, they can be categorized into the following types:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 1:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Damage spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls1 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The spells that fall under this category are offensive spells that will inflict damage to the victim.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls1 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Fireball and Magic Missile spells.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls1 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_DAMAGE}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls1 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: A character in the room.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 2:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Area spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls2 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spells under this category will affect a wide area or a room. However, the only currently implemented area spell is an offensive (damaging) spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls2 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Earthquake spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls2 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_AREAS}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls2 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: No target is needed, but will affect characters in the room at casting time. However, the caster, Immortals, other players if no-pkill is set, and charmed mobs are excluded.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 3:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Affect spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls3 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Affect spells are spells that will attach affect bits or flags on the victim, apply a certain effect on the victim, or both. Affect flags are used if you need to check whether a character has a certain flag attached to him elsewhere in the codes.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls3 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
STRUCT.H has a list of currently implemented affect flags and applications. Affect flags starts with AFF_xxx (xxx is the name of the spell or skill that utilizes it) and affect application starts with APPLY_yyy (yyy is the victim's characteristic that is changed).}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls3 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Strength spell (apply an effect), Detect Magic spell (attach an affect flag) and Poison spell (does both).}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls3 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_AFFECTS}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls3 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: A character in the room.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 4:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Unaffect spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls4 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
While affect spells set affect flags, unaffect spells will remove that flag and the spell that is associated with it.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls4 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Remove Curse and Remove Poison spells (when cast on a character)}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls4 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_UNAFFECTS}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls4 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: A character in the room.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 5:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Alter Object spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls5 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
If affect spells are for characters, spells under this category will set or remove object flags on objects. Object flags can be used as a form of a check to allow a character or stop him from manipulating the object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls5 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
STRUCT.H has a list of currently implemented object flags, which start with ITEM_xxx (xxx is the characteristic of the object that is altered), under Extra Object Flags.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls5 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Curse and Remove Curse spells (when cast on an object)}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls5 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_ALTER_OBJ}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls5 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: An object in the room, in caster's inventory or equipped by caster.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 6:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Points spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls6 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Points spells are those that changes the victim's hit, mana and movement points. So far, spells under this category are the curative type which increase (or cure) those points.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls6 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Heal and Cure Light Wounds spells.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls6 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_POINTS}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls6 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: A character in the room.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 7:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Group-based spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls7 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
These spells can only be cast if the caster is in a group and only affect the caster's group members who are in the same room at the time. These spells are usually defensive and benign. No one wants to kill their own group members :P}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls7 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Group Armor and Group Heal spells.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls7 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_GROUPS}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls7 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: No target needed, but will affect characters who are grouped and in the same room as the caster.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 8:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Masses spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls8 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Masses spells will affect the mass in the room. In another words, everyone in the room will be affected by these spells, except for the caster. It is slightly similar to area spells. Currently, no spell has been implemented for this type}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls8 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: -none-}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls8 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_MASSES}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls8 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: No target is needed, but will affect all characters in the room except for the caster.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 9:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Summon spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls9 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Summon spells will summon or create NPCs for you. The concept of "summon" is not to transfer an NPC from another place in the realm, but to actually load a new one based on the prototype in the database. However, you need to actually create and place the mobile prototype that you want to be used in the database beforehand.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls9 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Animate Dead spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls9 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_SUMMONS}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls9 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: No target needed with possibility for an object in room, in caster's inventory or equipped by caster.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 10:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Creation Spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls10 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spells under this type will do the same thing as summon spells, except for objects. It will create the object based on the prototype in the database and place it in the caster's inventory. Again, you need to create and place the object prototype that you want to be used in the database beforehand.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls10 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Create Food spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls10 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_CREATIONS}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls10 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: No target needed with possibility for an object in room, in caster's inventory or equipped by caster.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Type 11:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Manual Spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls11 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spells that do not fall under any of the categories above tend to fall under this type. Instead of using a predefine function to do the checks, you actually need to code the whole function yourself. Hence, the term "manual" and a bit more complex. Most manual spells are those that have a lot of conditions to check, manipulates the location of caster, victim and/or object, or do more then just a simple attachment of flags.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls11 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Example: Locate Object, Recall and Charm spells}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls11 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identified by: MAG_MANUAL}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls11 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target: Characters and/or objects depending on the nature of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch{\*\bkmkstart Part 2}{\*\bkmkend Part 2}
As you can see, although most spells tend to be under a single category (Fireball - damage spell), some spells falls under several (Curse - affect spell and alter object spell) or make use of other spell types as its own (Group Heal - group-based spell that uses points spell). With this flexibility, think of various possibilities that can be added in to make a spell interesting. Something like Glitterdust spell, an affect spell that will attach AFF_GLITTERDUST to a person but at the same time, an unaffect spell that will remove AFF_HIDE and AFF_INVISIBLE. Every time someone affected by Glitterdust tries to hide or become invisible, you can do a check and make him unable to do so!}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 2: Basic Steps to Create A Spell}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Now, let's say you have loads of idea for a new spell, and you want to implement them. How? It's rather easy if you follow the basic steps below. As an example, we'll use the Glitterdust spell from before:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Step 1:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Define your idea}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls12 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Give the spell a name, and think about what the spell is supposed to do. It's much easier if you list them on a piece of paper so that you can refer back from time to time.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls12 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Identify which category, or categories, the spell will fall into. This can be determined by looking at what the spell is supposed to do. Then crosscheck with the information above to make sure that it does fall under those categories.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls12 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
List out detail information about the spell, like the conditions that must be met before the spell can be cast, a basic formula to use if calculation is needed, whether an affect flag is needed and identifying how the spell will affect the caster, victim and/or object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Step 2:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Define and name the spell}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls13 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
First and foremost, you need to define the spell number for the new spell. This is done inside SPELLS.H under the heading Player Spells. A prefix SPELL_xxx is used to differentiate whether it's a spell or a skill.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* PLAYER SPELLS -- Numbered from 1 to MAX_SPELLS */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_ARMOR              1 /* Reserved Skill[] DO NOT CHANGE */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_TELEPORT           2 /* Reserved Skill[] DO NOT CHANGE */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_BLESS              3 /* Reserved Skill[] DO NOT CHANGE */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_BLINDNESS          4 /* Reserved Skill[] DO NOT CHANGE */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_INFRAVISION       50 /* Reserved Skill[] DO NOT CHANGE */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_WATERWALK         51 /* Reserved Skill[] DO NOT CHANGE */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Insert new spells here, up to MAX_SPELLS */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MAX_SPELLS              130}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls14 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
A stock Circle has a MAX_SPELLS limit set at 130. So, you can define the new spell with any number from 52, which is exactly after SPELL_WATERWALK, to MAX_SPELLS. The number will uniquely identify that spell, and will be used throughout the codes. However, if the new spell is not castable by players but by objects like scrolls and NPCs only, you have to look further down the list for a special section specific for these type of spells. An example is located in\~}{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%206" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Part 6}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_GLITTERDUST       52      }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our spell is defined as 52}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls15 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Now, you need to give the name to the spell. Those who are using codebases prior to bpl15, you'll need to take a look at SPELL_PARSER.C and find the table that has the list of spell/skill names. The table will look something like below. Notice the number at the side? That is to indicate the slot number in the table. Since we defined our Glitterdust spell as number 52, we must put the spell name inside slot 52 as well. The "!UNUSED!" label is to denote that the slot is still empty.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
char *spells[] =}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!RESERVED!",         /* 0 - reserved */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* SPELLS */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"armor",              /* 1 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"teleport",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"bless",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"blindness",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped again to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"infravision",        /* 50 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"waterwalk",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"glitterdust",        }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 The name for the new spell in slot 52.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!UNUSED!", }
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls16 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
However, the above method of placing the spell name is only applicable for those using codebases prior to bpl15. Those using bpl15 will find it much easier to place the spell name, which is done together when defining the characteristics of the new spell [Step 4].}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Step 3:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Code the spell in}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls17 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
As different spell category will have different method of implementation, the way the spell is coded in will be explain in detail in their respective sections later on. This is the only place where the various spell categories differ greatly from one another.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Step 4:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Defining the spell characteristics}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The characteristics of a spell are defined at the end of SPELL_PARSER.C under MAG_ASSIGN_SPELLS(). A special function called SPELLO() is used for this purpose with the following arguments:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spell number - the unique number that identifies the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spell name - the name of the spell. (**Note: Only applicable under bpl15.)}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Max mana - the amount of mana needed for casting this spell the first time.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Min mana - the minimum amount of mana needed for casting.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Change in mana - the amount that will reduce the mana cost for casting as the caster's level increases.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Min position - the minimum position of the caster before this spell can be cast (usually it's fighting or standing).}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Target - a list of valid targets for the spell, joined with bitwise OR ('|'). This is clearly explained in SPELLS.H under Possible Target, and the list of targets starts with TAR_xxx.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Violent - a TRUE or FALSE check to indicate whether the spell should be considered as aggressive or offensive.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Routines - to identify the categories that this spell is under. Also joined with bitwise OR ('|').}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
For the Glitterdust spell, we mentioned that it's both an affect spell as well as an unaffect spell. It's not violent, at least I don't think so, and the target is someone in the room. Just to make sure, we set it so the caster will not be a valid target.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls18 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Note again that if the spell is not-castable by players but by objects like scrolls and NPCs only, you'll have to go further down for a special section specific for these type of spells. An example is located in\~}{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part%206" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Part 6}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
Under codebases prior to bpl15}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_ARMOR, 30, 15, 3, POS_FIGHTING, }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM, FALSE, MAG_AFFECTS);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_CURSE, 80, 50, 2, POS_STANDING,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM | TAR_OBJ_INV, TRUE, MAG_AFFECTS | MAG_ALTER_OBJS);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_GLITTERDUST, 80, 50, 2, POS_STANDING,  }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our spell characteristic.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM | TAR_NOT_SELF, FALSE, MAG_AFFECTS | MAG_UNAFFECTS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
Under codebase bpl15}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_ARMOR, "armor", 30, 15, 3, POS_FIGHTING,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM, FALSE, MAG_AFFECTS);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_CURSE, "curse", 80, 50, 2, POS_STANDING,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM | TAR_OBJ_INV, TRUE, MAG_AFFECTS | MAG_ALTER_OBJS);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_GLITTERDUST, "glitterdust", 80, 50, 2, POS_STANDING,       }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM | TAR_NOT_SELF, FALSE, MAG_AFFECTS | MAG_UNAFFECTS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Step 5:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Create appropriate spell messages}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls19 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
What being displayed when a spell is cast, an offensive spell blasted a victim to bits and pieces, or when a spell starts to lose its effect, still needs to be added in. Fortunately, the message for when a spell is being cast is done together while coding the spell in. Unfortunately, the other two are in separate files.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls19 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Messages for spells losing their effect can be found close to the end of CONSTANTS.C under the heading of spell_wear_off_msg[] which look something like below. This is what we call the "wear off message" which will be seen only by the affected person. Again, we must use the same slot number as the one that we used to define our new spell:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
const char *spell_wear_off_msg[] = \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"RESERVED DB.C",                              /* 0 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"You feel less protected.",                   /* 1 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!Teleport!",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"You feel less righteous.",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"You feel a cloak of blindness dissolve.",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"Your night vision seems to fade.",           /* 50 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"Your feet seem less buoyant.",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"The wind finally blew away the glittering dust on you.",     }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 added.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!UNUSED!"}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\};}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls20 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Since this is mostly for affect spells, other types like damage and area spells will simply denote their slot with "!Spellname!" for reference. However, every spell\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
must}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~have an entry in here, no matter which category the spell falls into.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls20 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Messages for damaging spells or "battle messages" are located in MESSAGES file inside CIRCLEMUD/LIB/MISC directory. Unlike wear off message, only damaging spells will have an entry here. The messages are divided into 4 groups, with 3 messages per group for different audience -- the person doing the damage, the person receiving the damage, and those enjoying the fight. A detail explanation is located at the very top of that file.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
* Burning Hands                                         }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 A comment}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
M                                                       }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Start message}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
 }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
5                                                      }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Spell number}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
You have burned $N to death!                            ----|}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
You have been burned to death by $n!                     Death messages (G1)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
$n has burned $N to death!                              ----|}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
You miss $N with your burning hands.                    ----|}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
$n reaches for you with burning hands, but misses!       Miss messages (G2)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
$n tries to burn $N, but $E escapes!                    ----|}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
You burn $N with your hot little hands!                 ----|}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
You cry out in pain as $n grabs you with burning hands!  Hit messages (G3)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
$N cries out as $n burns $M!                            ----|}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
Your attempt to burn $N nears BLASPHEMY!!!              ----|}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
The pitiful creature before you tries to burn you.       Attacking God (G4)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
Unaware of the risks, $n tries to burn $N.              ----|}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
Step 6:}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~Setting class and level}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls21 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Even after all the above steps have been taken, your players still can't make use of the new spell yet. This is because all spells and skills are initially been set for Immortal use only. So, you must set it so that players of certain class and certain level will get a chance at practicing this new spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls21 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
To do this, look inside CLASS.C and search for INIT_SPELL_LEVELS(). A special function called SPELL_LEVEL() is used which accept the following arguments:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls21 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spell number - the unique number that identifies the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls21 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Class - the unique number that identifies the class. Look inside STRUCTS.C under PC Classes heading.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls21 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the minimum level before player can practice and use the new spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls21 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
If two or more classes have a chance at learning the same spell, SPELL_LEVEL() needs to be called for each of those classes.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
   }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spell_level(SPELL_MAGIC_MISSILE, CLASS_MAGIC_USER, 1);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
   }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spell_level(SPELL_DETECT_INVIS, CLASS_MAGIC_USER, 2);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
   }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spell_level(SPELL_GLITTERDUST, CLASS_MAGIC_USER, 10); }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 for Mages}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
   }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spell_level(SPELL_ARMOR, CLASS_CLERIC, 1);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
   }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spell_level(SPELL_DETECT_INVIS, CLASS_CLERIC, 6);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
   }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spell_level(SPELL_GLITTERDUST, CLASS_CLERIC, 15);     }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 for Clerics}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
After going through all these 6 basic steps, your spell will be complete and ready for the players to use. However, with all the changes done to the codes, you'll need to recompile the source code so that the changes will be incorporated and restart the mud so that it will be based on the newly compiled version. Now, the last thing you need to do is test the spell to see if it works, and do some modifications or adjustments so that the spell will do exactly as you planned it to.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch{\*\bkmkstart Part 3}{\*\bkmkend Part 3}
But of course, I've oversimplified the whole process since I omitted the coding of the spell itself. That happens to be the backbone of the spell where the bulk of the codes will be. So now, let's slowly take a look at how to spells are actually coded in. So get your spell information and outline ready because if you plan and write down everything properly, they can be very helpful.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 3: Damage Spells - Killing Enemy 101}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The first few spells that most people will think up are those for fighting purposes. Those spells will fall under this category. Now, let's try to code a clerical spell called "Flamestrike" where a column of holy flame will burst forth from the ground to engulf the victim. For details, let's make it a level 22 Cleric spell, obviously a violent one, can be cast while fighting and the target will be someone in the room or the person who the caster is fighting with. Beside that, since the holy fire needs to be "bursting forth" from the ground, let's limit it so that it can\u8217\'92t be cast on air, on watery surface and underwater. Let's make it cause quite a damage since it's high level: 12d8 + (caster's level) / 2}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved in this spell:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls22 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_DAMAGE() in MAGIC.C, where the specific conditions for the spell are checked, the damage is calculated and the test for saving vs. spell for half damage is done. DAMAGE() from FIGHT.C is called from within to actually inflict the damage on the victim.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls22 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls22 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls22 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls22 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Victim - pointer to the victim of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls22 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls22 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Inside mag_damage(), a switch/case statement is use to determine which spell is being cast. So, let's add in a case for our spell:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_HARM:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam = dice(8, 8) + 8;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_FLAMESTRIKE:                 }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Is caster on air, on watery surface or underwater? */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (SECT(IN_ROOM(ch)) >= SECT_WATER_SWIM) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("Your feet needs to be on firm ground!\\r\\n", ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
return (0);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam = dice(12, 8) + level/2;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
We don't need to worry neither the test for saving nor how it will inflict the damage to the victim. As mentioned, the function will do all those on our behalf. Now, all we need to do are define the characteristics of the spell, create some wonderful battle messages about how victim is being burned alive in the column of holy flames, and set the class and level for the spell.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_FLAMESTRIKE, "flamestrike", 80, 50, 5, POS_FIGHTING,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM | TAR_FIGHT_VICT, TRUE, MAG_DAMAGE);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{{\*\bkmkstart Part 4}{\*\bkmkend Part 4}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 4: Area Spells - Make Thy Enemies Suffer!}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Since there's only 1 area spell, let's make more and this time it's for the Mages. This time, let's code in a spell called "Reverse Gravity" which let the Mage temporarily reverse the gravitational pull around an area to go up, instead of down. Victims will be thrown up into the air for a while, before they come crashing back down. This will be a level 25 spell, violent and can be cast while fighting. Since this is an area spell, no target needs to be specified. For limitation, let's make it so that it can't be cast if the caster is on air, and only quarter damage when cast underwater. Let's take the victim's weight into consideration when calculating the damage. The heavier they are, the harder they fall: 3d8 + (victim's weight) / 2}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved in this spell:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls23 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_AREAS() in MAGIC.C, where the general message when casting the spell is located and the list of characters in the room is being evaluated. Then MAG_DAMAGE() is being called to calculate and inflict the damage to each valid characters.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls23 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_DAMAGE() in MAGIC.C as stated above.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls23 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls23 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls23 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls23 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Victim - pointer to the victim of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls23 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls23 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
First, let's take a look inside mag_areas(). Again a switch/case statement is used to determine to find out which spell is being cast. Inside this function we only need to add in another case for our spell, and create a general message for when the spell is being cast, one for the caster and another for the rest in the room.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
switch (spellnum) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_EARTHQUAKE:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_char = "You gesture and the earth begins to shake all around you!";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_room ="$n gracefully gestures and the earth begins to shake violently!";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_REVERSE_GRAVITY:           }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Check if the caster is on air */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (SECT(IN_ROOM(ch)) == SECT_FLYING) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("You are defying gravity yourself!\\r\\n", ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
return;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_char = "You chant the spell softly, concentrating on reversing the gravitational pull."}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_room = "$n softly chants. Suddenly, the gravitational pull begins to shift upwards!"}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
That's it for mag_areas(). Remember, that function is only for the general message and to evaluate the list of characters in the room. The calculation of damage and inflicting it is being handled by mag_damage(). There's a heading for case statements for area spells. Let's put the damage formula under that heading:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Area spells */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_EARTHQUAKE:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam = dice(2, 8) + level;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_REVERSE_GRAVITY:           }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam = dice(3, 8) + GET_WEIGHT(victim)/2;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Is the spell cast underwater? If so, quarter the damage */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (SECT(IN_ROOM(ch)) == SECT_UNDERWATER)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam /= 4;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
And again, we just let those 2 functions evaluate the list of characters in the room for valid targets and inflict the damage to each of them. Next, define the characteristic of the spell, create some battle messages about how they were thrown high up in the air and come crashing down, and specify the class and level that can use this spell.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_REVERSE_GRAVITY, "reverse gravity", 120, 100, 5,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
POS_FIGHTING, TAR_IGNORE, TRUE, MAG_AREAS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Not everyone will be thrown up in the air by the reversal of the gravity. A tree monster that has strong roots deep inside the earth will definitely survive the ordeal.\~}{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part14" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Part 14}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch{\*\bkmkstart Part 5}{\*\bkmkend Part 5}
\~is designed to explain on how to give some NPCs some form of immunity on certain spells (or skills).}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 5: Affect Spells - Affect Them for Better or Worse\u8230\'85}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
We mention earlier on that affect spells can attach an affect flag or apply an affect on someone, or do both on that person. Let's do 2 spells here -- one to apply an affect, another to attach a flag. First, let's add in "Holy Purpose," a level 15 clerical affect application spell, which will increase the victim's hitroll and damroll temporarily. To make this as a "holy" spell, the caster must be good aligned, and if the victim is also good aligned then there's an added bonus. The duration of the spell is up to (caster's level) / 2 ticks. This spell is benign and can be cast on anybody, including the caster, but not during a fight.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved in this spell:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls24 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_AFFECTS() in MAGIC.C, where the affect of the spell (whether to change, set an affect flag, or both) is defined and checked for validity. AFFECT_JOIN() from HANDLER.C is called from within to place the affect on the victim.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls24 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls24 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls24 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls24 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Victim - pointer to the victim of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls24 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls24 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Again, a switch/case statement is used to identify the spell cast inside mag_affects(). However, there are other variables that we need to look at first. Once we are familiar with these variables, only then we can begin.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls25 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The elements in\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
affected_type structure}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
. This structure can be found inside STRUCTS.H with a clear explanation what each element is for. We can apply or attach a maximum of 5 affects through a single spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls25 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
accum_duraction}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~and\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
accum_affect}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
, which let the function knows whether the affect of the spell and its duration will accumulate or increase with every cast of the same spell.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_INFRAVISION:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].duration = 12 + level;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].bitvector = AFF_INFRAVISION;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
accum_duration = TRUE;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_vict = "Your eyes glow red.";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_room = "$n's eyes glow red.";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_HOLY_PURPOSE:                }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* First check for the caster's alignment */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (!IS_GOOD(ch)) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("Your soul is not pure enough!\\r\\n", ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
return;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* first set of affect to apply */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].duration = level/2;                     /* Duration of affect   */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].location = APPLY_HITROLL;               /* Where it applies to  */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].modifier = 2 + (IS_GOOD(victim));       /* Amount being applied */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].bitvector = 0;                          /* Affect flag to use   */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* second set of affect to apply */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[1].duration = level/2;                     /* If any of the values */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[2].location = APPLY_DAMROLL;               /* are 0, it is not     */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[3].modifier = 2 + (IS_GOOD(victim));       /* necessary to include */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[4].bitvector = 0;                          /* the field here       */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
accum_duration = FALSE;       /* Duration and affect doesn't accumulate */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
accum_affect = FALSE;         /* Not necessary to add if value is FALSE */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_vict = "You feel a deep sense of purpose in your heart.";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_room = "$n glows slightly and $s face is set with determination.";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
For our second spell, let's do a Mage spell that uses an affect flag called "Silence." When cast, the victim will temporarily lose his voice. Therefore, he can no longer say something, shout or yell for everyone to hear, as well as do anything that requires the use of a voice, like casting spells and reciting scrolls! Offensive? Definitely\u8230\'3f it's a spellcaster's nightmare! However, the affect is only temporary (duration: (caster's level) / 2), can't be cast while fighting and the victim has a chance to make his saves for not being affected.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved in this spell:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls26 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_AFFECTS() in MAGIC.C, where the affect of the spell is defined and placed on the victim.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls26 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_SAVINGTHROW() needs to be called to check if a save is made by victim.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls26 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
STRUCTS.H and CONSTANTS.C for adding new affect flags.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls26 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Various function where characters with certain affect flags are allowed or disallowed to do certain things. This is applicable when we're doing the second spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
But before anything else, we need to create the affect flag for this spell first. First, we need to define the affect flag in STRUCTS.H under the heading Affect Bits. Place the new flag at the end of the list and increase the number by 1. The number is another form of a slot, which ranges from 0 to 31. Therefore we can only have a limited number of affect flags:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Affect bits: used in char_data.char_specials.saved.affected_by */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* WARNING: In the world files, NEVER set the bits marked "R" ("Reserved") */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define AFF_BLIND               (1 << 0)  /* (R) Char is blind          */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define AFF_INVISIBLE           (1 << 1)  /* Char is invisible          */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define AFF_DETECT_ALIGN        (1 << 2)  /* Char is sensitive to align */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define AFF_DETECT_INVIS        (1 << 3)  /* Char can see invis chars   */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define AFF_UNUSED20            (1 << 20) /* Room for future expansion  */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define AFF_CHARM               (1 << 21) /* Char is charmed            */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define AFF_SILENCE             (1 << 22)  }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our flag is defined as #22}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
And like the spell name, we also need to add in a name for our flag, but this time, it's inside CONSTANTS.C under affected_bits[]. Like before, we need to add the name at the end of the list, but before the termination ('\\n') symbol:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* AFF_x */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
const char *affected_bits[] =}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"BLIND",              /*  0 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"INVIS",              /*  1 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"DET-ALIGN",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"DET-INVIS",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ again, snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"UNUSED",             /* 20 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"CHARM",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"SILENCE",    }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 The name of our affect flag}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"\\n"}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\};}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Only after this will we be able to make use of the affect flag. Now, let's add in another case statement inside mag_affects() for our new spell:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_SILENCE:                     }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Check if the victim managed to make his save */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (mag_savingthrow(victim, savetype, 0)) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("You failed in your attempt!\\r\\n", ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
return;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Set up the affect flag */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].duration = level/2;                     /* Duration of affect   */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].location = 0;                           /* Where it applies to  */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].modifier = 0;                           /* Amount being applied */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
af[0].bitvector = AFF_SILENCE;                /* Affect flag to use   */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
accum_duration = FALSE;       /* Duration and affect doesn't accumulate */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
accum_affect = FALSE;         /* Not necessary to add if value is FALSE */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_vict = "An ethereal hand forces itself down your throat and steals your voice!";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_room = "An ethereal hand forces itself down $n's throat, leaving $m speechless!";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Now comes the most difficult part. We want those who are affected by this spell to lose his verbal ability. To do this, we have to go through all verbal communication functions, and do a check to see if that person is affected or not. If he is, then stop him from continuing. We also want to stop the affected person from casting spells and reciting scrolls, since both of them also require verbal ability. I will only include an example of a check in DO_SAY().}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ACMD(do_say)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Check if the person is affected by Silence spell */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (AFF_FLAGGED(ch, AFF_SILENCE)) \{   }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our check for the flag}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("But you have lost your voice!\\r\\n", ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
return;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
skip_spaces(&;argument);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (!*argument)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("Yes, but WHAT do you want to say?\\r\\n", ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
else \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
sprintf(buf, "$n says, '%s'", argument);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
act(buf, FALSE, ch, 0, 0, TO_ROOM);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (!IS_NPC(ch) && PRF_FLAGGED(ch, PRF_NOREPEAT))}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char(OK, ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
else \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
sprintf(buf, "You say, '%s'\\r\\n", argument);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char(buf, ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
That's it. The function will apply the affects on the victim when the spells are cast. Now, define the characteristic of the spells, and instead of battle messages, create some fancy wear off messages like how the player regrets that the feeling of determination is now gone, or how good it feels to get his voice back again. Don't forget to set the class and level of the spells.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_HOLY_PURPOSE, "holy purpose", 80, 50, 5, POS_STANDING, }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM, FALSE, MAG_AFFECTS);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_SILENCE, "silence", 80, 50, 5, POS_STANDING, }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM | TAR_NOT_SELF, TRUE, MAG_AFFECTS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Note that even though an affect spell (like Silence spell) might be offensive, unlike damage spells the caster and victim will not automatically fight each other. They will only fight if the victim is an NPC and the caster loses his concentration while casting. Don't forget that some NPCs might be immune to this spell\u8230\'85. Check out\~}{{\field{\*\fldinst HYPERLINK "https://www.circlemud.org/cdp/wtfaq/spellinfo.html#Part14" }{\fldrslt {\hich\af5\loch\rtlch\alang255 \ltrch\lang255\langfe255\loch\cf9\lang255\ul\ulc0\dbch\langfe255\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Part 14}{}}}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch{\*\bkmkstart Part 6}{\*\bkmkend Part 6}
\~on how to do this.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 6: Unaffect Spells - "First You Have It, Now You Don't!"}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
If someone is affected by Silence spell, it will be a while before he can get his voice back. Let's code in something that will help him get his voice back faster. A different type of spell called "Vocalize" which will remove the Silence affect flag from someone. What's the different? This spell is only available in potions. There is a slight different when defining a non-castable spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
First, let's define the spell. When defining a non-castable spell in SPELLS.H, we have to look further down list. There's a section for it:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* NON-PLAYER AND OBJECT SPELLS AND SKILLS */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_IDENTIFY                  201}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_FIRE_BREATH               202}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_GAS_BREATH                203}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_FROST_BREATH              204}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_ACID_BREATH               205}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_LIGHTNING_BREATH          206}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define SPELL_VOCALIZE                  207  }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our spell is defined as #207}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Now, let's create a potion that will use this new non-castable spell. I'm going to set the prototype of the potion as object number #3056, after the metal staff (#3055). After that, we can just set it so that the local Magic Shop in Midgaard or other places to sell it. Better yet, give it to an NPC somewhere so players will have to kill the NPC first before getting their hands on it!}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#3056}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
potion blue glowing~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
a blue, glowing potion~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
A small vial filled with blue, glowing liquid has been left here.~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
10 g 16385}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
12 207 -1 -1    }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 This potion will use our spell, set at level 12}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
1 4000 100}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
E}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
potion blue glowing~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
The vial is filled with some thick bluish liquid, and the liquid}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
seems to glow! Somehow, while examining the vial you feel a}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
strange urge to speak and speak and speak....}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
~}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls27 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_UNAFFECTS() in MAGIC.C, where the opposite affect spell is identified and if the victim is affected by that spell. AFFECT_FROM_CHAR() is called to that remove that affect spell from the victim.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls27 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls27 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls27 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls27 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Victim - pointer to the victim of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls27 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls27 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Now, let's code the spell in. Through the use of switch/case statement, it's easy to identify what spell has been cast:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_REMOVE_POISON:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spell = SPELL_POISON;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_vict = "A warm feeling runs through your body!";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_room = "$n looks better.";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_VOCALIZE:                    }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for out spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spell = SPELL_SILENCE;              }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 This is the opposite affect spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_vict = "Your throat feels cool and tingling suddenly...";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_room = "A look of surprise, then relieve appears on $n's face";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The function will check if the victim is affected by the opposite affect spell and will remove it. When defining the characteristic of the spell, the mana requirements and minimum position can be set as 0 since it's a non-castable spell. Besides that, since it's on a potion, neither target nor setting of the class and level for the spell is needed. This is not a violent spell and no fancy messages are needed.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* NON-castable spells should appear below here. */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_IDENTIFY, "identify", 0, 0, 0, 0,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM | TAR_OBJ_INV | TAR_OBJ_ROOM, FALSE, MAG_MANUAL);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_VOCALIZE, "vocalize", 0, 0, 0, 0,  }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_IGNORE, FALSE, MAG_UNAFFECTS); }
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{{\*\bkmkstart Part 7}{\*\bkmkend Part 7}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 7: Alter Object Spells - Bend It to Your Will.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
We have done an affect and unaffect spells that can attach and remove an affect flag on someone. Now, let's do the same for object. This time, we'll do a spell called "Holy Weapon" that will make the weapon do more damage to evil characters. However, since it's supposed to be a holy and magical weapon, the weapon must not be magical in the first place. For the limitation of this spell, let's make it take only good aligned characters can use it, and it will only do quarter damage if used against good aligned characters. Let's make it a level 26 Cleric spell and can only be cast on a weapon in the caster's inventory.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_ALTER_OBJS() in MAGIC.C which will check to see if the correct object is cast on and will directly attach the object flag onto it.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Obj - pointer to the object of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
STRUCTS.H and CONSTANTS.C for adding new object flags.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls28 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Various functions where a check needs to be made before a character is allowed to or stopped from manipulating an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Like, affect flags in affect spells, we need to create the flag first. The place to add is in STRUCTS.H under the heading Extra Object Flags. Place the new flag at the end of the list and increase the number by 1. The number is another form of a slot, which ranges from 0 to 31. Therefore we can only have a limited number of object flags:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Extra object flags: used by obj_data.obj_flags.extra_flags */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define ITEM_GLOW               (1 << 0)  /* Item is glowing            */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define ITEM_HUM                (1 << 1)  /* Item is humming            */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define ITEM_NORENT             (1 << 2)  /* Item cannot be rented      */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define ITEM_NODONATE           (1 << 3)  /* Item cannot be donated     */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define ITEM_ANTI_WARRIOR       (1 << 15) /* Not usable by warriors     */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define ITEM_NOSELL             (1 << 16) /* Shopkeepers won't touch it */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define ITEM_HOLY_WEAPON        (1 << 17)   }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our flag is defined as #17}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
And like the spell name, we also need to add in a name for our flag, but this time, it's inside CONSTANTS.C under extra_bits[]. Like before, we need to add the name at the end of the list, but before the termination ('\\n') symbol:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* ITEM_x (extra bits) */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
const char *extra_bits[] = \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"GLOW",               /*  0 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"HUM",                /*  1 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!RENT",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!DONATE",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!WARRIOR",           /* 15 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!SELL",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"HOLYWPN",    }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 The name of our object flag}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"\\n"}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\};}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Now that that's done, let's start with the coding of the spell itself. To make it so that only good aligned characters can use the weapon, we'll use 3 ready-made flags -- ITEM_ANTI_EVIL and ITEM_ANTI_NEUTRAL, to make it into good aligned only, and ITEM_MAGIC to change it into a magical weapon. Let's add in our case statement inside mag_alter_objs():}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_REMOVE_POISON:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (((GET_OBJ_TYPE(obj) == ITEM_DRINKCON) || (GET_OBJ_TYPE(obj) == ITEM_FOUNTAIN) ||}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
       }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
(GET_OBJ_TYPE(obj) == ITEM_FOOD)) && GET_OBJ_VAL(obj, 3)) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
GET_OBJ_VAL(obj, 3) = 0;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_char = "$p steams briefly.";}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_HOLY_WEAPON:                 }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for out spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Let's make sure that the object is a weapon, and not magical */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if ((GET_OBJ_TYPE(obj) == ITEM_WEAPON) && (!IS_OBJ_STAT(obj, ITEM_MAGIC))) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Let's make it so that it's a good-only weapon */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (IS_OBJ_STAT(obj, ITEM_ANTI_GOOD)) }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
REMOVE_BIT(GET_OBJ_EXTRA(obj), ITEM_ANTI_GOOD);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (!IS_OBJ_STAT(obj, ITEM_ANTI_NEUTRAL)) }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
SET_BIT(GET_OBJ_EXTRA(obj), ITEM_ANTI_NEUTRAL);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (!IS_OBJ_STAT(obj, ITEM_ANTI_EVIL)) }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
SET_BIT(GET_OBJ_EXTRA(obj), ITEM_ANTI_EVIL);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Now, set the weapon to become a holy and magical one */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
SET_BIT(GET_OBJ_EXTRA(obj), ITEM_HOLY_WEAPON);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
SET_BIT(GET_OBJ_EXTRA(obj), ITEM_MAGIC)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
to_char = "$p starts to glow with a soft, white aura."}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
We don't have to worry about doing a check for a character's alignment when he tries to wield it. With the setting of ITEM_ANTI_EVIL and ITEM_ANTI_NEUTRAL flags, the function equip_char() will do the check for us. Now, what we need to think of is how to do the check when the weapon is used for fighting. For that we need to take a look inside hit() which will calculate the damage being done by a weapon while fighting:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* okay, we know the guy has been hit.  now calculate damage. */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Start with the damage bonuses: the damroll and strength apply */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam = str_app[STRENGTH_APPLY_INDEX(ch)].todam;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam += GET_DAMROLL(ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Maybe holding arrow? */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (wielded && GET_OBJ_TYPE(wielded) == ITEM_WEAPON) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Add weapon-based damage if a weapon is being wielded */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam += dice(GET_OBJ_VAL(wielded, 1), GET_OBJ_VAL(wielded, 2));}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Does it have Holy Weapon flag? */        }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our check for the flag}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (IS_OBJ_STAT(wielded, ITEM_HOLY_WEAPON)) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (IS_GOOD(victim)) dam /= 4;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (IS_EVIL(victim)) dam *= 1.5;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\} else \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* If no weapon, add bare hand damage instead */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
We're almost done. The only things left to do are to define the characteristic of the spell and set the class and level for the spell. This spell doesn't have any fancy wear off or battle messages.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_HOLY_WEAPON, "holy weapon", 120, 100, 5, POS_STANDING, }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_OBJ_INV, FALSE, MAG_ALTER_OBJS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch{\*\bkmkstart Part 8}{\*\bkmkend Part 8}
Some people might wonder: if Enchant Weapon spell is supposed to alter an object, why does it fall under manual spell instead of this category? True, Enchant Weapon does alter an object. However, alter object spells are supposed to attach or remove object flags. Enchant Weapon not only attaches ITEM_MAGIC flag on a weapon, but also applies 2 affects (APPLY_HITROLL and APPLY_DAMROLL) to it. And we can't make it into an affect spell as well since affect spells are only for characters, and not object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 8: Points Spells - Measuring the Beat of Our Life\u8230\'85}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Points spells are those that will modify a person's hit, mana and movement points. So far, the implemented points spells are benign and curative. Let's make another one that will "cure" a person's movement point, instead of his hitpoint, and call it "Refresh." Since this is a not a violent spell, it can be cast on anyone in the room, including the caster, can't be cast while fighting and let's give this spell to a Cleric level 12. For the amount to be added in: (caster's level) x 3.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls29 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_POINTS() in MAGIC.C, which identifies which points to increase and calculate the amount to increase which is added directly to it.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls29 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls29 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls29 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls29 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Victim - pointer to the victim of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls29 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls29 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
There are 2 important variables inside mag_points() that we need to get familiar with:\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
hit}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~for the amount to add to the victim's hitpoint, and\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
move}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~for the victim's movement point. Again, we just add in a case statement in the switch/case for our spell.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_HEAL:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
hit = 100 + dice(3, 8);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("A warm feeling floods your body.\\r\\n", victim);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_REFRESH:             }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
hit = 0                     /* Add to hitpoint. Not necessary if 0 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
move = level*3;             /* Add to movement point.              */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("A refresh feeling flows through you.\\r\\n", victim);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Again, the function will take care of everything and add the calculated amount to the victim's points. Now define the characteristics of the spell and set the class and level of spell before recompiling. You don't have to think up any fancy messages for this spell.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_REFRESH, "refresh", 60, 30, 5, POS_STANDING, }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_CHAR_ROOM, FALSE, MAG_POINTS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{{\*\bkmkstart Part 9}{\*\bkmkend Part 9}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 9: Group-based Spells - Defend Thy Neighbors!}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
This is also one of the easiest spell to create. Since the targets of these spells are the caster's own group members, they are usually benign and beneficial in nature. We can actually make use of spells from other categories and call them from within. An example will be a Mage level 10 spell called "Group Invisibility." Anyone in the room who is grouped with the caster will become invisible. This spell doesn't have any target, and can't be cast while fighting.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_GROUPS() in MAGIC.C which will determine whether the caster is in a group or not, and will search for the group members who are in the same room as the caster. For each member found, PERFORM_MAG_GROUPS() is called to actually cast the spell on them.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
PERFORM_MAG_GROUPS() in MAGIC.C which will call the appropriate function based on the category of the spell for each group member found.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Tch - pointer to one of the caster's group member who is in the same room.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls30 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Various spell-type functions which will cast the spell on each group member.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Since we are going to use an already implemented Invisibility spell, we don't need to code that in. However, if you want to do something new, then you will need to add in the appropriate spell. Another interesting to note is that we don't actually need to make any changes to mag_groups() since its function is to find the caster's group member who are in the same room. So, the only one we'll be changing is perform_mag_groups(), and maybe creating a new spell if you're not using a ready-made one. Just add in a case statement for our spell, and call the appropriate function:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_GROUP_HEAL:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
mag_points(level, ch, tch, SPELL_HEAL, savetype);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_GROUP_INVISIBILITY:  }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Invisibility spell is an affect spell */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
mag_affects(level, ch, tch, SPELL_INVISIBLE, savetype);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
As simple as that. Mag_groups() will search for the group members, perform_mag_groups() will determine the spell being cast, and mag_affects() will place the affect of the spell on them. As before, no fancy battle or wear off messages is needed. Define the characteristic of the spell, set the class and level to use this spell, and you're done.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_GROUP_INVISIBILITY, "group invisibility", 100, 80, 4, }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
POS_STANDING, TAR_IGNORE, FALSE, MAG_GROUPS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{{\*\bkmkstart Part10}{\*\bkmkend Part10}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 10: Masses Spells - Let Them See Your Way\u8230\'85}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The word "mass" always reminds me of a preacher in a Sunday church. When the preacher starts preaching, everyone will listen (well, at least they were supposed to anyway). I guess that's why the description states that they are supposed to affect everyone the\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
but}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~the caster.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
So far no spell has been implemented under this category. I guess it's a bit hard to figure out what is a suitable spell for this. If the spell should be offensive (damaging) then area spells is more appropriate since numerous checks are done. If the spell is beneficial, then why should a caster cast it since he won't benefit from it. Anyway, I have seen several MUDs that changed this so that it will\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
include}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~the caster as well, instead of excluding him.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Based on the description of the preacher above, let's make a spell called "Mass Bless" which let's a Cleric level 20 bless everyone in the room (except for himself that is\u8230\'85). Like the example for the group-based spell above, I'm going to use a ready-made Bless spell for this. No target is needed and it can only be cast while standing.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls31 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_MASSES() in MAGIC.C which will evaluate the list of characters in the room at that time. For each character that is not the caster, it will call the appropriate function based on the category of the spell being cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls31 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls31 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls31 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls31 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls31 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls31 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Various spell-type functions which will cast the spell on each character in the room.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Like the perform_mag_groups() above, just add in a case statement inside the switch/case in mag_masses(), and call the appropriate function that will cast the spell. The function will go through the list of characters in the room and will cause the spell to affect each of them.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
switch (spellnum) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_MASS_BLESS:                  }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Bless spell is an affect spell */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
mag_affects(level, ch, tch, SPELL_BLESS, savetype);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Again, no fancy battle and wear off messages are needed. All we need to do now is define the characteristics of the spell, and set the class and level for it.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_MASS_BLESS, "mass bless", 80, 50, 4, POS_STANDING, }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_IGNORE, FALSE, MAG_MASSES);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{{\*\bkmkstart Part11}{\*\bkmkend Part11}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 11: Summon Spells - "Come and Follow Me!"}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
So far we've been doing spells for Mages and Clerics. Let's do different one for this category. Let's base this one on nature, which a Druid or Ranger (even a Cleric actually) can make use off. This spell is called "Sticks to Snakes," which changes sticks in the room to become snakes, as the name said. Now, let's make it so that the number of snakes that will appear will depend on the sector type. The more nature-like the sector is, the more snakes will appear. This spell is not violent (at least I don't think so), but can be cast while fighting. There's no target for this spell, since the rooms aren't really littered with sticks to begin with. The snakes will be bound to the caster until one of them dies. By the way, this spell can't be cast on air, on watery surface and underwater.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls32 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_SUMMONS() in MAGIC.C, which will determine the prototype to use, load the NPC into the room, and set it to follow the caster. If a corpse is needed by the spell, it will also transfer all objects in the corpse to the NPC and removes the corpse afterwards.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls32 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls32 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls32 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls32 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Obj - pointer to the object of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls32 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls32 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Savetype - the type of save the victim should make in order to take half damage.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls32 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
ASSIGN_MOBILES() in SPEC_ASSIGN.C to assign a special procedure to the NPC.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
First, we have to get a prototype of a snake. I'm going to make one up and set it to use mobile number #3096, after the cryogenicist (#3095). The reason why I'm not using a ready-made prototype in the database is because I want the description to say that they are different:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#3096}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
snake brown stick~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
the stick-like snake~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
A brown stick-like snake is at your feet, hissing at you.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
Unlike other snakes, this one is thin like a stick. Its coat is not}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
even glistening like the rest, but just dark brown. Even though the}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
snake puzzled you, looking at the poisoned saliva dripping from its}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
fangs does stop you from examining it even closer.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
~}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
afnopr dks -200 S       }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 'a' indicates the use of special procedure}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
11 7 4 5d10+50 3d6+0}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
0 12000}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
8 8 0}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Now, to make this more interesting, let's make the snake poisonous as well. The prototype is set to have a special procedure. To attach the procedure itself, we have to do that inside SPEC_ASSIGN.C file. Inside ASSIGN_MOBILES(), there is an entry for Midgaard. Just attach the snake procedure, which allows snakes to have a chance at poisoning the person who they are fighting with, using ASSIGNMOB() to our mobile prototype number:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Midgaard */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASSIGNMOB(3005, receptionist);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASSIGNMOB(3010, postmaster);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASSIGNMOB(3020, guild);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASSIGNMOB(3021, guild);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASSIGNMOB(3095, cryogenicist);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASSIGNMOB(3105, mayor);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASSIGNMOB(3096, snake);       }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our prototype now has 'snake' procedure}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Okay, now that the NPC that we want to use is ready, let's look inside mag_summons(). There are a few variables and structures that we need to get familiar first:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls33 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
mag_summons_msg[]}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~is sent to the room upon the success of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls33 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
mag_summons_fail_msg[]}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~is sent to the caster upon the failure of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls33 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
fmsg}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~and\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
msg}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~signify which message number should be used for failure and success.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls33 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
mob_num\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
is the mobile prototype number that will be loaded.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls33 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
num}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~is the number of mobiles that will be loaded or summoned into the room.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls33 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
pfail}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~is to indicate the percentage of failing the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls33 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i\b0\f5\loch
handle_corpse}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~is to indicate that a corpse is used and should be handled by the function.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_CLONE:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
msg = 10;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
fmsg = number(2, 6);  /* Random fail message. */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
mob_num = MOB_CLONE;  /* MOB_CLONE has been defined as 10 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
pfail = 50;           /* 50% failure, should be based on something later. */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_STICKS_TO_SNAKES:            }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Check where the caster is currently */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (SECT(IN_ROOM(ch)) >= SECT_WATER_SWIM) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("You can't cast the spell here!\\r\\n", ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
return;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Set the possibility and amount to load base on sector type */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
mob_num = 3096;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
num = number(1, 1 + SECT(IN_ROOM(ch)));}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
pfail = 100 - 10*SECT(IN_ROOM(ch));}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Set the appropriate values for the others */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
msg = 9;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
fmsg = number(2, 6);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
handle_corpse = FALSE;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Like normal, the function will take care of the loading of the NPC and set them to follow the caster. And like normal also, we need to set the characteristic, as well as the class and level of the spell. No fancy battle and wear off messages are needed for this spell.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_STICKS_TO_SNAKES, "sticks to snakes", 80, 50, 4,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
POS_FIGHTING, TAR_IGNORE, FALSE, MAG_SUMMONS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{{\*\bkmkstart Part12}{\*\bkmkend Part12}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 12: Creation Spells - Magical Sleight of Hand.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Sleight of hand, a common trick that makes things seemed to appear from out of the thin air. However, with a creation spell like "Knowledge," we can make an identify scroll to appear in our hand for use. It is also simple to do actually, but first we need to know the prototype object number of the scroll which we'll be using (#3050). Only then we can continue. Let's make it a level 14 Mage spell, which can't be cast while fighting.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls34 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
MAG_CREATIONS() in MAGIC.C which will determine the prototype to use, load the object and place it in the caster's inventory.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls34 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls34 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls34 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls34 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spellnum - the unique number that identifies the spell cast.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Inside mag_creations(), we just add in a case statement for our spell in the switch/case combination:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_CREATE_FOOD:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
z = 10;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_KNOWLEDGE:         }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
z = 3050;                   }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 The prototype number that will be used}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
If you want to create a different scroll or potion, you can either create a new one and place it inside the database or use one that is already in there. From here, we just need to define the characteristic of the spell, set the level and class of the spell and we are done since there is no need for fancy messages.}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_KNOWLEDGE, "knowledge", 60, 40, 4, POS_STANDING,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_IGNORE, FALSE, MAG_CREATIONS);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{{\*\bkmkstart Part13}{\*\bkmkend Part13}\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 13: Manual Spells - Making It Special\u8230\'85}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Spells that can't fall into the other types will fall here. And since we don't have a ready-made function that will do everything for us, we have to code everything manually. For this, let's do a spell that will let Mages see into the rooms around him. A level 18 spell called "Farsight" which will show to the caster a list of who are in the rooms adjacent to the one he is in. This is not a violent spell, and can only be cast while standing.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Functions or files involved:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
ASPELL(spell_xxx) in SPELLS.C that is manually coded, where xxx is the spell name.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Argument passed:}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Level - the level of the caster or level of spell on an object.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Ch - pointer to the caster of the spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Victim - pointer to the victim of the spell}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl1\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx1414\li1414\ri0\lin1414\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Obj - pointer to the object used in the spell}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
SPELLS.H for declaring the ASPELL(spell_xxx) function.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\sb0\sa0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
CALL_MAGIC() in SPELL_PARSER.C for an additional case statement for our spell.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch{\listtext\pard\plain \rtlch\af6 \ltrch\hich\af6\loch\f6\dbch\af6 \u8226\'95\tab}\ilvl0\ls35 \li0\ri0\lin0\rin0\fi-283\ql\widctlpar\tx707\li707\ri0\lin707\rin0\fi-283\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Various functions that are needed to make this spell works.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
There is a slight different when defining the spell. After defining the unique spell number, we have to declare the function for the spell itself. This is done close to the end of SPELLS.H, together with the rest of manual spells function declaration:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASPELL(spell_charm);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASPELL(spell_identify);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASPELL(spell_enchant_weapon);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASPELL(spell_detect_poison);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASPELL(spell_farsight);         }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Declaration of our spell function}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The codes for the function is usually kept inside SPELLS.C:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
ASPELL(spell_farsight)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
int door, found;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
struct char_data *person;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Check for every exit, from north to west */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
for (door = NORTH; door <= WEST; door++)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (CAN_GO(ch, door)) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
found = FALSE;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
sprintf(buf, "You look to the %s:", dir[door]);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Is the room dark and can caster see in the dark? */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (IS_DARK(EXIT(ch, door)->to_room) && !CAN_SEE_IN_DARK(ch)) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
strcat(buf, " Too dark to see anyone...");}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
found = TRUE;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\} else \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* If there is someone in the room, can caster see him? */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
for (person = world[EXIT(ch, door)->to_room].people; person; }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
             }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
person = person->next_in_room)   }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
          }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (CAN_SEE(ch, person)) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
            }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
sprintf(buf + strlen(buf)," %s", GET_NAME(person));}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
            }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
found = TRUE;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
          }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}      }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Tell the caster what he can see */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (found) send_to_char(strcat(buf, "\\r\\n"), ch);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}    }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}   }
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Okay, the last thing before we can finish this off like the rest, is that we need to add in a case statement for our new spell in SPELL_PARSER.C under call_magic() with the rest of the manual spells. Notice the difference in the way a manual spell function is called compared to the way other categories call theirs?:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (IS_SET(SINFO.routines, MAG_MANUAL))}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
switch (spellnum) \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_CHARM:          MANUAL_SPELL(spell_charm); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_CREATE_WATER:   MANUAL_SPELL(spell_create_water); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_DETECT_POISON:  MANUAL_SPELL(spell_detect_poison); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_ENCHANT_WEAPON: MANUAL_SPELL(spell_enchant_weapon); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_IDENTIFY:       MANUAL_SPELL(spell_identify); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_LOCATE_OBJECT:  MANUAL_SPELL(spell_locate_object); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_SUMMON:         MANUAL_SPELL(spell_summon); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_WORD_OF_RECALL: MANUAL_SPELL(spell_recall); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_TELEPORT:       MANUAL_SPELL(spell_teleport); break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_FARSIGHT:       MANUAL_SPELL(spell_farsight); break; }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Like the rest, define the characteristic of the spell, and set the level and class for it. As to whether it needs a battle and/or wear off message, it depends on the nature of the spell. If you are placing an affect spell on someone, like Charm spell, then you'll require a wear off message. As for battle messages\u8230\'3f I'm not sure. If the spell is too complex for damage and area type, then have a single set of battle messages might not be enough. Then again, I could be dead wrong!}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
spello(SPELL_FARSIGHT, "farsight", 100, 75, 5, POS_STANDING,}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
        }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
TAR_IGNORE, FALSE, MAG_MANUAL);}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch{\*\bkmkstart Part14}{\*\bkmkend Part14}
I know some people wondered why Control Weather spell couldn't be cast. If you take a look at the arguments that are passed into ASPELL(), you'll notice that there is no way the word "worse" or "better" can be passed in. There are a few ways to go around this, and someone wrote to the mailing list suggesting a method he used sometime in 1998. Hopefully a copy of the mail is still in the archive.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\ul\ulc0\b\f5\loch
Part 14: Giving NPCs Immunity.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Not everyone is susceptible to the spells and skills that we are using. For example, a tree is extremely hard to be bashed over with a small sword (even though it's a\~}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b\f5\loch
huge}{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
\~sword to the wielder). And a tree will definitely be immune to the Reverse Gravity spell that we just made, since they tend to have roots so deep that they can't be thrown around easily. Therefore, a check can be made in the coding for the Bash skill or the Reverse Gravity spell for these situations.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The question is, how are we to know? If you have implemented race in your MUD, which covers the NPCs as well, it's easy to check if the victim is of RACE_TREE for example. But until you add that in, you will have to make do with mobile flags for NPCs.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
The existing flags are located in STRUCTS.H under Mobile Flags. Like affect and object flags, these flags are also limited, ranging from 0 to 31:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Mobile flags: used by char_data.char_specials.act */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MOB_SPEC        (1 << 0) /* Mob has a callable spec-proc    */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MOB_SENTINEL    (1 << 1) /* Mob should not move             */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MOB_SCAVENGER   (1 << 2) /* Mob picks up stuff on the ground*/}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MOB_ISNPC       (1 << 3) /* (R)Automatically set on all Mobs*/}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MOB_NOSLEEP     (1 << 15)/* Mob can't be slept              */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MOB_NOBASH      (1 << 16)/* Mob can't be bashed (e.g. trees)*/}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MOB_NOBLIND     (1 << 17)/* Mob can't be blinded            */}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
There is already a flag called MOB_NOBASH, to let NPCs who has it to be immune to bashing. However, not being able to bash someone only means that that person is either too heavy or too large to be bashed. So, let's make a flag that will protect NPCs from Reverse Gravity or other spells/skills that can throw them around. Let's call this flag MOB_NOTHROW. Again, like the affect and object flags, we put our new flag at the end of the list, incrementing it by 1:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
#define MOB_NOTHROW     (1 << 18)/* Mob can't be thrown around      */}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Next, we have to put the name of the flag, again inside CONSTANTS.C, but this time in under another heading. Just add the name at the end of the list, but before the termination ('\\n') symbol:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* MOB_x */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
const char *action_bits[] = \{}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"SPEC",               /*  0 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"SENTINEL",   /*  1 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"SCAVENGER",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"ISNPC",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
... [ snipped to make it shorter ]}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!SLEEP",             /* 15 */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!BASH",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!BLIND",}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"!THROW",             }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 The name of our mobile flag}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
"\\n"}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\};}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
With that, we can now make use of our new flag. For an example of how to use this flag, let's go back and look at our coding for Reverse Gravity spell again. We'll take a look at the one inside mag_damage() since that is where the damage is being calculated and inflicted from:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Area spells */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_EARTHQUAKE:}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam = dice(2, 8) + level;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar\loch

\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
  }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
case SPELL_REVERSE_GRAVITY:           }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Case statement for our spell}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
 }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Can the victim be thrown around? */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (MOB_FLAGGED(victim, MOB_NOTHROW) \{ }{\hich\af8\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\f8\loch
\u231\'e7}{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
 Our check for the flag}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
send_to_char("You brace yourself, and survive the ordeal.\\r\\n", victim);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
act("$n braces $mself and survives the ordeal!", TRUE, victim, 0, 0, TO_ROOM);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
return (0);}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
\}}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
   }
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam = dice(3, 8) + GET_WEIGHT(victim)/2;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
/* Is the spell cast underwater? If so, quarter the damage */}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
if (SECT(IN_ROOM(ch)) == SECT_UNDERWATER)}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
      }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
dam /= 4;}
\par \pard\plain \s22\rtlch\af7\afs20 \ltrch\hich\af7\loch\sb0\sa0\f7\fs20\dbch\af11\loch\ql\widctlpar\sb0\sa283\ltrpar{\loch\scaps0\caps0\cf1\expnd0\expndtw0
    }{\loch\scaps0\caps0\cf1\expnd0\expndtw0\i0\b0\loch
break;}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\li0\ri0\lin0\rin0\fi0\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Wait a minute! The code checks if the NPC has the MOB_NOTHROW flag. But what if the victim is a player and not an NPC? Simple\u8230\'3f. If you follow the definition for MOB_FLAGGED(), you'll see that it actually checks to see if the victim is an NPC or not. If it's a player, the condition will automatically be false.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\widctlpar\ltrpar{\hich\af5\loch\scaps0\caps0\cf1\fs20\expnd0\expndtw0\i0\b0\f5\loch
Checking a victim or an NPC for specific flags can be done anywhere in the codes, not just for spells and skills. The only think that you have to remember though is that affect flags (AFF_xxx) can be attached to both players and NPCs and uses AFF_FLAGGED() for checking, which mobile flags are only for NPCs and uses MOB_FLAGGED() for checking.}
\par \pard\plain \s18\loch\sl276\slmult1\sb0\sa140\loch\ql\li0\ri0\lin0\rin0\fi0\sb0\sa0\ltrpar\loch

\par }